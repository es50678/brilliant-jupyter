<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Wasm hello world</title>
    </head>
    <body>
        <div id="textcontent"></div>
        <script type="text/javascript">
            fetch("./firstprog.wasm")
                .then((bytes) => {
                    return bytes.arrayBuffer();
                })
                .then(mod => WebAssembly.compile(mod))
                .then((module) => {
                    return new WebAssembly.Instance(module);
                })
                .then((instance) => {
                    console.log(instance.exports.c_hello())
                    console.log(instance.exports.square(2));
                    console.log(instance)
                });
        </script>
    </body>
</html>